<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Boa Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Lars Solberg">

    <!-- Le styles -->
    <link rel="stylesheet" href="./theme/css/bootstrap.min.css" type="text/css" />
    <style type="text/css">
      body {
        padding-top: 60px;
        padding-bottom: 40px;
      }
      .container-fluid {
        max-width: 1500px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      .tag-1 {
        font-size: 14pt;
      }
      .tag-2 {
        font-size: 12pt;
      }
      .tag-2 {
        font-size: 10pt;
      }
      .tag-4 {
        font-size: 8pt;
      }

      .article {
        border-right-width: 4px;
        border-right-style: solid;
      }
      .article-odd {
        border-left-color: #CCC;
        border-right-color: #CCC;
        border-top-color: #CCC;
      }
      .article-even {
        border-left-color: #444;
        border-right-color: #444;
        border-top-color: #444;
      }

      .article > h1 {
          font-size: 2.4em;
          border-left-width: 4px;
          border-left-style: solid;
          border-top-width: 4px;
          border-top-style: solid;
          margin-bottom: 8px;
          padding-left: 4px;
      }

      .content > h1 { font-size: 1.5em; }
      .content > h2 { font-size: 1.3em; }
      .content > h3 { font-size: 1.1em; }
      .content > h4 { font-size: 0.9em; }
      .content > h5 { font-size: 0.7em; }


    </style>
    <link href="./theme/css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="./theme/css/font-awesome.css" rel="stylesheet">

    
    <link href="./theme/css/pygments-emacs.css" rel="stylesheet">

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="./theme/images/favicon.ico">
    <link rel="apple-touch-icon" href="./theme/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./theme/images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./theme/images/apple-touch-icon-114x114.png">

    <link href="./feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="/blog/" />
    
    
  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="./index.html">Boa Blog </a>
          <div class="nav-collapse">
            <ul class="nav">
              
              
              
                          <li class="divider-vertical"></li>
              
              
                  <li >
                    <a href="./category/geeky.html">
						<i class="icon-folder-open icon-large"></i>geeky
					</a>
                  </li>
              
                  <li >
                    <a href="./category/misc.html">
						<i class="icon-folder-open icon-large"></i>misc
					</a>
                  </li>
              
                          <ul class="nav pull-right">
                                <li><a href="./archives.html"><i class="icon-th-list"></i>Archives</a></li>
                          </ul>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span9" id="content">
            

        
        
        <div class="article article-odd">
                <h1 class="article-odd"><a href="./2013/03/android-setup-part-1-apps.html">Android setup part 1 - Apps</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2013-03-14T00:00:00">
        <i class="icon-calendar">&nbsp;</i>Thu 14 March 2013
</abbr>

<!--

<span class="label">By</span>
<a href="./author/lars-solberg.html"><i class="icon-user"></i>Lars Solberg</a>

-->



<div class="pull-right">
  <span class="label">Category</span>
  <a href="./category/geeky.html"><i class="icon-folder-open"></i>geeky</a>.


  &nbsp;&nbsp;&nbsp;
  <span class="label">Tags</span>
  
    <a href="./tag/android.html"><i class="icon-tag">&nbsp;</i>android</a>&nbsp;&nbsp;
  





</div>


</footer><!-- /.post-info --></div>
                <div class="content"><h1>Intro</h1>
<p>I (as probably you), like to customize every aspect of your daily rutine to be as good and efficient as possible.
The smart phones that everyone is walking around with today have a potential that is much bigger than what their users uses them for.</p>
<p>I will write a couple of blog posts about my <em>perfect</em> setup after a great amount of customizing, buying apps (which wasn’t worth it), reflashing, redesigning and a lot of try and fails.
This first post is just a list of my favorite apps..</p>
<p>Note; that I don't use any screenshots, but I will provide links and descriptions.
Note2; that this is my personal perfect setup. The best I've found, at the moment.. Please comment if you have better ideas!</p>
<h1>General setup</h1>
<ul>
<li>Phone: [Samsung Galaxy S3]</li>
<li>Android: 4.1</li>
<li>Rooted: yes!</li>
<li>Mod: [Cyanogenmod 10]</li>
</ul>
<h1>Apps</h1>
<p>PS: I have left out some apps from the list, which are good, but not about this blogpost. Like <a href="https://play.google.com/store/apps/details?id=com.handmark.expressweather">1Weater</a>, <a href="https://play.google.com/store/apps/details?id=com.google.android.gm">GMail</a>, <a href="https://play.google.com/store/apps/details?id=com.linkedin.android">Linkedin</a>, <a href="https://play.google.com/store/apps/details?id=com.github.mobile">GitHub</a>, <a href="https://play.google.com/store/apps/details?id=com.google.android.street">Google StreatView</a>, <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.maps">Google Maps</a>, <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.docs">Google Drive</a>, <a href="https://play.google.com/store/apps/details?id=com.dropbox.android">Dropbox</a>, <a href="https://play.google.com/store/apps/details?id=org.mozilla.firefox">Firefox</a>, <a href="https://play.google.com/store/apps/details?id=com.google.android.apps.unveil">Google Goggles</a>, <a href="https://play.google.com/store/apps/details?id=com.evernote">Evernote</a> and so on.. This list is about getting most out of the phone in general, not which todo-list, mail, hobbies I have :) I also took out <a href="https://play.google.com/store/apps/details?id=sunnsoft.felleskatalogen">Felleskatalogen</a> and <a href="https://play.google.com/store/apps/details?id=com.gulesider.android">Gule Sider</a> which is both Norwegian apps.</p>
<p>PS2: Sorry about the Norwegian currency (converted manually to usd as well). If there is a way to force google play store into displaying the currency in USD, please share!</p>
<p>PS3: The need root list might be a little uncomplete. But that doesn’t mather, because everyone should root their phone :)</p>
<p>PS4: Most of the apps that costs money in this list have free versions as well.. Try them first!</p>
<table>
<thead>
<tr>
<th>App name</th>
<th>ca price (NOK/USD)</th>
<th>Description</th>
<th>Need root?</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=ccc71.at">Android Tuner</a></td>
<td>55,- / $9.5</td>
<td>An expensive but complete tool for all your android system tuning</td>
<td>some</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.magicandroidapps.bettertermpro">Better Terminal</a></td>
<td>22,- / $3.5</td>
<td></td>
<td>some</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=mikado.bizcalpro">Business Calendar</a></td>
<td>32,- / $5.5</td>
<td>An advanced, calendar with nice views and nice widgets.</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.snoggdoggler.android.applications.doggcatcher.v1_0">DoggCatcher</a></td>
<td>28,- / $4.5</td>
<td>I havent tried any others in a while, but this is a good podcast client.</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.endomondo.android.pro">Endomondo PRO</a></td>
<td>30,- / $5</td>
<td>A very good sports-tracker with a nice web overview.</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.extendedcontrols">Extended Controls</a></td>
<td>7,- / $1</td>
<td>Lots of button widgets that you can toggle and change almost any system setting with</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=udk.android.reader">ezPDF Reader</a></td>
<td>23,- / $5</td>
<td>A nice pdf reader on steroids.</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.abcOrganizer">Folder Organizer</a></td>
<td>8,- / $1</td>
<td>Create "tag" folders, nest them, star them and get control over where your apps are located.</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.android.keepass">KeePassDroid</a></td>
<td></td>
<td>The most trusted solution for storing password safe, local, and encrypted</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.zedray.calllog">Last Call Widget</a></td>
<td></td>
<td>A widget that can display the last contact you had contact with. You can call back with one touch</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.rageconsulting.android.lightflow">Light Flow</a></td>
<td>15,- / $2.5</td>
<td>Take control over your phones LED and make it useful. This app can control every "alarm" aspect for MANY other apps</td>
<td>some</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.mjk.locusmaptweak">Locus Map Tweek</a></td>
<td></td>
<td>Add extra maps and some tweeks to locus (like google maps, which are gone by default)</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=menion.android.locus.pro">Locus Pro</a></td>
<td>46,- / $8</td>
<td>The most advanced map app you will find on the phone. Not the typical navigation app, but stacked with map/gps features!</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.PomegranateSoftware.MathStudio">MathStudio</a></td>
<td>111,- / $19</td>
<td>If you are looking to replace your high-end calculator, this is the app for you!</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.h9kdroid.multicon">Multicon</a></td>
<td></td>
<td>Widgets that take makes 1x1 widget spaces able to contain 4 icons. Very useful to no polute your homescreen with shortcuts</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.ideashower.readitlater.pro">Pocket</a></td>
<td></td>
<td>Read long articles from the web that you have "saved" earlier using read-it-later/pocket in your browser.</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=la.droid.qr">QR Droid</a></td>
<td></td>
<td>An overall good QR reader</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.speedsoftware.rootexplorer">Root Explorer</a></td>
<td>23,- / $5</td>
<td>A very good file explorer designed for root uses.</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.keyes.screebl.full">Screebl Pro</a></td>
<td>12,- / $2</td>
<td>Detects when you are using/holding your phone to make sure the screen doesn't turn off.</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.haxor">Screen Filter</a></td>
<td></td>
<td>Dim the screen light below the normal minimum with a click on an icon. Useful eg. at cinema reply to important texts.</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.intangibleobject.securesettings.plugin">Secure Settings</a></td>
<td></td>
<td>Make tasker able to change deep system settings automaticly. Like which keyboard that is default on your phone.</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.speedsoftware.sqleditor">SQLite Editor</a></td>
<td>17,- / $3</td>
<td>Scans and gives a list of all apps internal databases, which you then can look at and edit</td>
<td>some</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.touchtype.swiftkey">SwiftKey</a></td>
<td>12,- / $2</td>
<td>Probably the best keyboard out there..</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.quoord.tapatalkpro.activity">Tapatalk</a></td>
<td>17,- / $3</td>
<td>A client to connect to different online forums (if they suport tapatalk (which they probably do)).</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.taskerm">Tasker</a></td>
<td>35,- / $6</td>
<td>Lets you automate "anything", based on "anything".</td>
<td>some</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=jackpal.androidterm">Terminal Emulator</a></td>
<td></td>
<td></td>
<td>some</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.spartacusrex.spartacuside">Terminal IDE</a></td>
<td></td>
<td></td>
<td>some</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.keramidas.TitaniumBackup">Titanium Backup</a></td>
<td>37,- / $6 (in-app)</td>
<td>A complete root level backup of your phone. Makes small packages of your apps and their settings which you can restore later</td>
<td>yes</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.keramidas.MediaSync">Titanium Media Sync</a></td>
<td>19,- / $3</td>
<td>Automaticly sync files (like the titanium backup directory) to a remote server over eg, ssh, ftp or similar.</td>
<td>some</td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.teslacoilsw.widgetlocker">Widget Locker</a></td>
<td>17,- / $3</td>
<td>Lets you have widgets on your lockscreen. You can even interact with them if you want.</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=com.wolfram.android.alpha">Wolfram Alpha</a></td>
<td>17,- / $3</td>
<td>Wolfram computes everything! Even tough it needs to use computerpower online, it is good to have this app from time to time</td>
<td></td>
</tr>
<tr>
<td><a href="https://play.google.com/store/apps/details?id=net.dinglisch.android.zoom">Zoom</a></td>
<td></td>
<td>Create small little widgets, using your phone, that heavy integrates with tasker.</td>
<td></td>
</tr>
</tbody>
</table></div>
        </div>
        <hr />
        
        
        <div class="article article-even">
                <h1 class="article-even"><a href="./2013/01/making-your-linux-prompt-as-usefull-as-possible.html">Making your Linux prompt as usefull as possible</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2013-01-29T22:22:00">
        <i class="icon-calendar">&nbsp;</i>Tue 29 January 2013
</abbr>

<!--

<span class="label">By</span>
<a href="./author/lars-solberg.html"><i class="icon-user"></i>Lars Solberg</a>

-->



<div class="pull-right">
  <span class="label">Category</span>
  <a href="./category/geeky.html"><i class="icon-folder-open"></i>geeky</a>.


  &nbsp;&nbsp;&nbsp;
  <span class="label">Tags</span>
  
    <a href="./tag/linux.html"><i class="icon-tag">&nbsp;</i>linux</a>&nbsp;&nbsp;
  




  &nbsp;&nbsp;&nbsp;
  <span class="label">Github</span>
    <a href="https://github.com/xeor/ninjab"><i class="icon-github-sign">/</i>xeor/ninjab</a>&nbsp;&nbsp;


</div>


</footer><!-- /.post-info --></div>
                <div class="content"><p>There are a lot of colorful Linux prompts out there already, but most of them tends to be all about beeing colorful, not useful.
<a href="https://github.com/xeor/ninjab">Ninjab</a> tries to be as useful as it can be in your day-to-day Linux management. It is made to be configurable, and easy to add your own bash hacks.</p>
<p>This blog-post is mostly to get some screenshots out, more info is available on the github page, and in the bash scripts themself.</p>
<h2>Here is a couple of examples on how it behaves in different situations.</h2>
<h4>In normal writable folder, as a normal (green) user, undefined http_proxy (red @), and over ssh (cyan) hostname.</h4>
<p><img alt="normal" src="static/images/2013-01-29.a-useful-bash-prompt/normal.png" /></p>
<h4>Same as above, but truncated (directory is max 1/3 of screen width)</h4>
<p><img alt="truncated" src="static/images/2013-01-29.a-useful-bash-prompt/truncated.png" /></p>
<h4>After a long running process</h4>
<p><img alt="long_running_proc" src="static/images/2013-01-29.a-useful-bash-prompt/long_running.png" /></p>
<h4>Inside a clean git folder in the master branch</h4>
<p><img alt="git" src="static/images/2013-01-29.a-useful-bash-prompt/git.png" /></p>
<h4>Inside a dirty (uncommited changes) git repo, after a failed command (with exit code != 0) that took a long time to run</h4>
<p><img alt="git_dirty_ec_longrun" src="static/images/2013-01-29.a-useful-bash-prompt/dirty_git_long_command_es2.png" /></p>
<h4>Inside a git repo with +1 committed change, with a tmux session running (but we are not in), and 3 background prosesses, and no write access to the current folder</h4>
<p><img alt="git_tmux_bg_nowrite" src="static/images/2013-01-29.a-useful-bash-prompt/git_commit_tmux_bgproc_nowrite.png" /></p>
<p>Everything in the prompt means something, the color of the username, @ and hostname.</p>
<p>This is one part of ninjab. It will also set a couple of aliases, functions and shell settings.
Take a look at the file in parts/* for more info about them
There is also a lot of configurations for ninjab in the "config" file.</p>
<p>If you want your own bash stuff loaded by ninjab, just put your files in the "parts" folder.</p>
<p>More documentation is available on the github page.</p></div>
        </div>
        <hr />
        
        
        <div class="article article-odd">
                <h1 class="article-odd"><a href="./2012/11/tagging-files-and-folders-using-hashtags-and-symlinks.html">Tagging files and folders using hashtags and symlinks</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-18T00:00:00">
        <i class="icon-calendar">&nbsp;</i>Sun 18 November 2012
</abbr>

<!--

<span class="label">By</span>
<a href="./author/lars-solberg.html"><i class="icon-user"></i>Lars Solberg</a>

-->



<div class="pull-right">
  <span class="label">Category</span>
  <a href="./category/geeky.html"><i class="icon-folder-open"></i>geeky</a>.


  &nbsp;&nbsp;&nbsp;
  <span class="label">Tags</span>
  
    <a href="./tag/linux.html"><i class="icon-tag">&nbsp;</i>linux</a>&nbsp;&nbsp;
  
    <a href="./tag/python.html"><i class="icon-tag">&nbsp;</i>python</a>&nbsp;&nbsp;
  




  &nbsp;&nbsp;&nbsp;
  <span class="label">Github</span>
    <a href="https://github.com/xeor/taggo"><i class="icon-github-sign">/</i>xeor/taggo</a>&nbsp;&nbsp;


</div>


</footer><!-- /.post-info --></div>
                <div class="content"><p>There is lots of tools out there that let you organise files (specially your picture archive). However, they are all depending on some sort of database, one master computer to add the tags from, and you can't browse the organised files in their organised structure from all devices.</p>
<p>I made this project because I had this exact problem organising my own pictures. I wanted something which:</p>
<ul>
<li>You could tag pictures as close to where you look at them (IE, the file browser itself)</li>
<li>Is platform independent.<ul>
<li>Like real platform independent! I wanted to browse this tags on my TV!</li>
</ul>
</li>
<li>Not another thing to backup. I am already backing up the pictures themselves.</li>
<li>Support organising whole folders, not just single files.</li>
</ul>
<p>There is probably many more than myself that is annoyed by this problem, therefor I will share my solution, which is a python script that goes trough all the files in a directory, looks at the filenames and looks for hashtags. This is put into my storage NAS's crontab and runs every hour.</p>
<h2>Example</h2>
<h3>File structure</h3>
<div class="codehilite"><pre><span class="n">xeor</span><span class="p">@</span><span class="n">omi</span> <span class="p">{</span> <span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">my_pictures</span> <span class="p">}</span>$ <span class="nb">find</span> <span class="p">.</span>
<span class="p">.</span>
<span class="o">./</span>2012 #<span class="n">Business</span> <span class="n">trip</span> <span class="n">to</span> #<span class="n">USA</span>
<span class="o">./</span>2012 #<span class="n">Business</span> <span class="n">trip</span> <span class="n">to</span> #<span class="n">USA</span><span class="o">/</span><span class="n">dcim0123</span> #<span class="n">People</span><span class="o">-</span><span class="n">Lars</span><span class="p">.</span><span class="n">jpg</span>
<span class="o">./</span>2012 #<span class="n">Business</span> <span class="n">trip</span> <span class="n">to</span> #<span class="n">USA</span><span class="o">/</span><span class="n">dcim0124</span><span class="p">.</span><span class="n">jpg</span>
<span class="o">./</span>2012 #<span class="n">Business</span> <span class="n">trip</span> <span class="n">to</span> #<span class="n">USA</span><span class="o">/</span><span class="n">dcim0125</span><span class="p">.</span><span class="n">jpg</span>
<span class="o">./</span>2012 #<span class="n">Business</span> <span class="n">trip</span> <span class="n">to</span> #<span class="n">USA</span><span class="o">/</span><span class="n">dcim0126</span> #<span class="n">Conference</span><span class="p">.</span><span class="n">jpg</span>
</pre></div>


<h3>Running taggo</h3>
<div class="codehilite"><pre><span class="n">taggo</span> <span class="n">run_once</span>
</pre></div>


<h3>Tags created</h3>
<div class="codehilite"><pre><span class="n">xeor</span><span class="p">@</span><span class="n">omi</span> <span class="p">{</span> <span class="o">~/</span><span class="n">Documents</span><span class="o">/</span><span class="n">tags</span> <span class="p">}</span>$ <span class="nb">find</span> <span class="p">.</span> 
<span class="p">.</span>
<span class="o">./</span><span class="n">Business</span>
<span class="o">./</span><span class="n">Business</span><span class="o">/</span><span class="n">root</span> <span class="o">-</span> 2012 #<span class="n">Business</span> <span class="n">trip</span> <span class="n">to</span> #<span class="n">USA</span>
<span class="o">./</span><span class="n">Conference</span>
<span class="o">./</span><span class="n">Conference</span><span class="o">/</span>2012 #<span class="n">Business</span> <span class="n">trip</span> <span class="n">to</span> #<span class="n">USA</span> <span class="o">-</span> <span class="n">dcim0126</span> #<span class="n">Conference</span><span class="p">.</span><span class="n">jpg</span>
<span class="o">./</span><span class="n">People</span>
<span class="o">./</span><span class="n">People</span><span class="o">/</span><span class="n">Lars</span>
<span class="o">./</span><span class="n">People</span><span class="o">/</span><span class="n">Lars</span><span class="o">/</span>2012 #<span class="n">Business</span> <span class="n">trip</span> <span class="n">to</span> #<span class="n">USA</span> <span class="o">-</span> <span class="n">dcim0123</span> #<span class="n">People</span><span class="o">-</span><span class="n">Lars</span><span class="p">.</span><span class="n">jpg</span>
<span class="o">./</span><span class="n">USA</span>
<span class="o">./</span><span class="n">USA</span><span class="o">/</span><span class="n">root</span> <span class="o">-</span> 2012 #<span class="n">Business</span> <span class="n">trip</span> <span class="n">to</span> #<span class="n">USA</span>
</pre></div>


<h3>Explaination</h3>
<p>As you can see on the file structure, we created one folder and 4 files. The folder itself <em>2012 #Business trip to #USA</em> have two tags, <em>#Business</em> and <em>#USA</em> (as you probably already knew :) )
The dcim0123 file have a tag like <em>#People-Lars</em>, which means that taggo should threat it as a sub tag.</p>
<p>The list of tags created is now just a bunch of symlinks to the original files. <em>./USA/root - 2012 #Business trip to #USA</em> is a link to the folder called <em>2012 #Business trip to #USA</em>, the same with <em>./Business/root - 2012 #Business trip to #USA</em>. For our sub tag, you can see that it is in the directory People/Lars; <em>./People/Lars/2012 #Business trip to #USA - dcim0123 #People-Lars.jpg</em>.</p>
<h3>Configuration</h3>
<p>In the file called taggo.cfg you can define stuff like tag indicator (the hashtag), sub tag separator, what filename the symlinked filenames should get (default is <em>%(rel_folders)s - %(basename)s</em>), what to replace / with in tag filenames, content folder and tag folder.</p>
<p>Taggo will automatically create the taggo.cfg file when you run it the first time. (Just do a <em>./taggo</em>)</p>
<h2>Usage</h2>
<p>Using taggo is simple, just put it in any directory and put something like <em>22 * </em> * <em> /usr/bin/python /path/to/taggo run_once</em> in the crontab. It will make sure that new symlinks is created.</p>
<p>If you rename a file, the symlink will die. But when you use the run_once parameter, it will automatically delete the invalid symlinks. I have been very careful when creating the delete function. It will only delete symlinks where the paths they point to does not exists. and to delete the empty directories, we are using os.rmdir, which is a python function that is made to delete empty directories only.</p>
<p>To find and use the project, check out the Github link at the top of this article.</p></div>
        </div>
        <hr />
        
        
        <div class="article article-even">
                <h1 class="article-even"><a href="./2012/11/two-factor-ssh-login-google-authenticator-and-selinux.html">Two factor ssh login, Google authenticator and SELinux</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-15T00:00:00">
        <i class="icon-calendar">&nbsp;</i>Thu 15 November 2012
</abbr>

<!--

<span class="label">By</span>
<a href="./author/lars-solberg.html"><i class="icon-user"></i>Lars Solberg</a>

-->



<div class="pull-right">
  <span class="label">Category</span>
  <a href="./category/geeky.html"><i class="icon-folder-open"></i>geeky</a>.


  &nbsp;&nbsp;&nbsp;
  <span class="label">Tags</span>
  
    <a href="./tag/linux.html"><i class="icon-tag">&nbsp;</i>linux</a>&nbsp;&nbsp;
  
    <a href="./tag/selinux.html"><i class="icon-tag">&nbsp;</i>selinux</a>&nbsp;&nbsp;
  
    <a href="./tag/ssh.html"><i class="icon-tag">&nbsp;</i>ssh</a>&nbsp;&nbsp;
  





</div>


</footer><!-- /.post-info --></div>
                <div class="content"><p>There is too many people that literally hate <a href="http://en.wikipedia.org/wiki/Security-Enhanced_Linux">SELinux</a>, and comes to the conclusion that it is way to complicated or unfriendly and just ends up turning it off instead of trying to fix it so you can live with it.</p>
<p>I want two factor authentication on one of my ssh servers. <a href="http://code.google.com/p/google-authenticator/">Google authenticator</a> is todays perfect solution for this. It is well made, support many different platforms on the client side, have a pam module, is opensourced and build on open standards. Most major Linux distroes have a package for it, so it should be easy enough to install. On <a href="https://www.scientificlinux.org/">Scientific Linux</a> (a great distro btw) or any other RedHat based distro it is already in the <a href="http://fedoraproject.org/wiki/EPEL">EPEL</a> repository called <em>google-authenticator</em>.</p>
<p>This article isn't about setting up Google authenticator, there is plenty of blog articles about that already, on <a href="http://www.howtogeek.com/121650/how-to-secure-ssh-with-google-authenticators-two-factor-authentication/">How-to-geek</a>, <a href="http://www.mnxsolutions.com/security/two-factor-ssh-with-google-authenticator.html">mnxsolutions</a> or other places <a href="https://www.google.com/search?q=google+authenticator+ssh">Google will take you</a>.</p>
<p>When you are done with the initial Google authenticator setup, you should have a file in your home directory called .google_authenticator, this file contains your authenticator secret, and other information the authenticator needs to log you in and keep track of what token is valid.</p>
<p>But to get it to work with SELinux can be a little more tricky. Here is <em>my</em> process from start to finish.</p>
<h2>Making a plan</h2>
<p>If you try to login now, you won't probably even see the Google authenticator ask for the token. This is because SELinux blocks sshd from reading random files in the users home directory. You can see this normally in /var/log/secure with an entry like this:</p>
<div class="codehilite"><pre><span class="n">Nov</span> 12 23<span class="p">:</span>34<span class="p">:</span>49 <span class="n">omi</span> <span class="n">sshd</span><span class="p">(</span><span class="n">pam_google_authenticator</span><span class="p">)[</span>3350<span class="p">]:</span> <span class="n">Failed</span> <span class="n">to</span> <span class="n">read</span> &quot;<span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">xeor</span><span class="o">/</span><span class="p">.</span><span class="n">google_authenticator</span>&quot;
</pre></div>


<p>One way to find out what went wrong is to use SELinux's audit2allow tool like this.</p>
<div class="codehilite"><pre><span class="n">root</span><span class="p">@</span><span class="n">omi</span> <span class="p">{</span> <span class="o">~</span> <span class="p">}</span># <span class="n">grep</span> <span class="n">ssh</span> <span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">audit</span><span class="o">/</span><span class="n">audit</span><span class="p">.</span><span class="nb">log</span> <span class="o">|</span> <span class="n">audit2allow</span>
#<span class="o">============</span><span class="p">=</span> <span class="n">sshd_t</span> <span class="o">==============</span>
#!!!! <span class="n">The</span> <span class="n">source</span> <span class="n">type</span> <span class="s">&#39;sshd_t&#39;</span> <span class="n">can</span> <span class="n">write</span> <span class="n">to</span> <span class="n">a</span> <span class="s">&#39;file&#39;</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">types</span><span class="p">:</span>
# <span class="n">user_tmp_t</span><span class="p">,</span> <span class="n">auth_cache_t</span><span class="p">,</span> <span class="n">faillog_t</span><span class="p">,</span> <span class="n">ssh_home_t</span><span class="p">,</span> <span class="n">pam_var_run_t</span><span class="p">,</span> <span class="n">pcscd_var_run_t</span><span class="p">,</span> <span class="n">sshd_var_run_t</span><span class="p">,</span> <span class="n">gitosis_var_lib_t</span><span class="p">,</span> <span class="n">sshd_tmpfs_t</span><span class="p">,</span> <span class="n">var_auth_t</span><span class="p">,</span> <span class="n">root_t</span><span class="p">,</span> <span class="n">krb5_host_rcache_t</span>

<span class="n">allow</span> <span class="n">sshd_t</span> <span class="n">user_home_dir_t</span><span class="p">:</span><span class="n">file</span> <span class="p">{</span> <span class="n">rename</span> <span class="n">write</span> <span class="n">getattr</span> <span class="n">read</span> <span class="n">create</span> <span class="n">unlink</span> <span class="n">open</span> <span class="p">};</span>
</pre></div>


<p>As you see, to fix the "failed to read" error, this is the SELinux module you have to make.
There is several thing to take a note of based on this output and our current findings:</p>
<ul>
<li>This is the errors generated by SELinux when SELinux is already in deny mode! This means that this is probably the first of many errors we will meet.</li>
<li>The allow rule audit2allow recommends is way to wide. It basically suggest that the server running as the sshd-type should have read/write/delete/+ info in the whole users home directory. This will defeat the purpose of having all this rules on sshd to lock it down.</li>
<li>sshd already have write access to a bunch of files. We will use semanage to find out exactly which directories this is.</li>
</ul>
<p>To get a list of paths that SELinux changes context in, use semanage fcontext -l. The list you will get is the list for your current user. Like in the list below, you will see that the SELinux type ssh_home_t belongs to the files in <em>/root/</em>. That is because that is my current home directory.. More on this <em>magic</em> later in the article.</p>
<div class="codehilite"><pre><span class="n">root</span><span class="p">@</span><span class="n">omi</span> <span class="p">{</span> <span class="o">~</span> <span class="p">}</span># <span class="n">semanage</span> <span class="n">fcontext</span> <span class="o">-</span><span class="n">l</span> <span class="o">|</span> <span class="n">grep</span> <span class="o">-</span><span class="n">E</span> &quot;<span class="n">user_tmp_t</span><span class="o">|</span><span class="n">auth_cache_t</span><span class="o">|</span><span class="n">faillog_t</span><span class="o">|</span><span class="n">ssh_home_t</span><span class="o">|</span><span class="n">pam_var_run_t</span><span class="o">|</span><span class="n">pcscd_var_run_t</span><span class="o">|</span><span class="n">sshd_var_run_t</span><span class="o">|</span><span class="n">gitosis_var_lib_t</span><span class="o">|</span><span class="n">sshd_tmpfs_t</span><span class="o">|</span><span class="n">var_auth_t</span><span class="o">|</span><span class="n">root_t</span><span class="o">|</span><span class="n">krb5_host_rcache_t</span>&quot;
<span class="o">/</span>                                                  <span class="n">directory</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">root_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">initrd</span>                                            <span class="n">directory</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">root_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">root</span><span class="o">/\</span><span class="p">.</span><span class="n">shosts</span>                                     <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">ssh_home_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">root</span><span class="o">/\</span><span class="p">.</span><span class="n">ssh</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                                  <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">ssh_home_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">coolkey</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                           <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">auth_cache_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">cache</span><span class="o">/</span><span class="n">krb5rcache</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                        <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">krb5_host_rcache_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">abl</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                                 <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">var_auth_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">amanda</span><span class="o">/\</span><span class="p">.</span><span class="n">ssh</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                        <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">ssh_home_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gitolite</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                            <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">gitosis_var_lib_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gitolite</span><span class="o">/\</span><span class="p">.</span><span class="n">ssh</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                      <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">ssh_home_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">gitosis</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                             <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">gitosis_var_lib_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">pam_shield</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                          <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">var_auth_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">pam_ssh</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                             <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">var_auth_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">btmp</span><span class="o">.*</span>                                    <span class="n">regular</span> <span class="n">file</span>       <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">faillog_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">faillog</span>                                   <span class="n">regular</span> <span class="n">file</span>       <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">faillog_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="nb">log</span><span class="o">/</span><span class="n">tallylog</span>                                  <span class="n">regular</span> <span class="n">file</span>       <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">faillog_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">faillock</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                            <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">faillog_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">pam_mount</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                           <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">pam_var_run_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">pam_ssh</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                             <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">var_auth_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">pcscd</span><span class="o">\</span><span class="p">.</span><span class="n">comm</span>                               <span class="n">socket</span>             <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">pcscd_var_run_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">pcscd</span><span class="o">\</span><span class="p">.</span><span class="k">events</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                       <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">pcscd_var_run_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">pcscd</span><span class="o">\</span><span class="p">.</span><span class="n">pid</span>                                <span class="n">regular</span> <span class="n">file</span>       <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">pcscd_var_run_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">pcscd</span><span class="o">\</span><span class="p">.</span><span class="n">pub</span>                                <span class="n">regular</span> <span class="n">file</span>       <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">pcscd_var_run_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">sepermit</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                            <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">pam_var_run_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">sshd</span><span class="o">\</span><span class="p">.</span><span class="n">init</span><span class="o">\</span><span class="p">.</span><span class="n">pid</span>                           <span class="n">regular</span> <span class="n">file</span>       <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">sshd_var_run_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">run</span><span class="o">/</span><span class="n">sudo</span><span class="p">(</span><span class="o">/.*</span><span class="p">)</span>?                                <span class="n">all</span> <span class="n">files</span>          <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">pam_var_run_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">HTTP_23</span>                                   <span class="n">regular</span> <span class="n">file</span>       <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">krb5_host_rcache_t</span><span class="p">:</span><span class="n">s0</span> 
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">host_0</span>                                    <span class="n">regular</span> <span class="n">file</span>       <span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">krb5_host_rcache_t</span><span class="p">:</span><span class="n">s0</span>
</pre></div>


<p>Ok, so ~/.ssh/ kinda looks good, but that won't work without some pam configuration. Lets try to create an ssh SELinux module instead and use the default /home/username/.google_authenticator location.</p>
<h2>Making a SELinux module</h2>
<p>audit2allow supports an <em>-M modulename</em> option that creates the module for you based on what you pipe to it. However, we will make this one from scratch, since its easier to learn, and easier to test and maintain.</p>
<p>First, create a folder for our module, lets just put it in <em>/root/selinux/modules/sshd_google_authenticator/</em> for now. Go into it.
Make sure you can find the selinux-devel make file, usually located at /usr/share/selinux/devel/Makefile. In ScientificLinux <em>yum provides /usr/share/selinux/devel/Makefile</em> tells me that this already comes with the package <em>selinux-policy</em>
You can now use this Makefile to compile the SELinux policy module. A good tip is to create an alias called semake like this:</p>
<div class="codehilite"><pre><span class="n">alias</span> <span class="n">semake</span><span class="p">=</span><span class="s">&#39;make -f /usr/share/selinux/devel/Makefile&#39;</span>
</pre></div>


<p>Still in your sshd_google_authenticator folder either use audit2allow to get the basic rules, or create them from scratch.
A quick headsup about the file extensions;</p>
<ul>
<li>.te is the type enforcement file. This contains all the rules and code to confine the application. This is the main file.</li>
<li>.fc is a list of paths and files that should get specific context. You can all of them using <em>semange fcontext -l</em> (That’s a small L).</li>
<li>.if interface file used for information for other domains communication. Don't mind this file for now.</li>
</ul>
<p>Everything you really need is the .te file, and this is how it looks like in our sshd google authenticator module (it can be named anything, as long as it ends with .te).</p>
<div class="codehilite"><pre><span class="c"># Name and version, every module should have this.</span>
<span class="n">policy_module</span><span class="p">(</span><span class="n">sshd_google_authenticator</span><span class="p">,</span> 0<span class="p">.</span>0<span class="p">.</span>1<span class="p">)</span>

<span class="c"># List of the types, class and everything else you are going to use in your module that is not defined in this .te file.</span>
<span class="c"># If you are getting any errors when you compile your module that it is unable to find a type, you probably forgot to declare it here.</span>
<span class="n">require</span> <span class="p">{</span>
  <span class="nb">type</span> <span class="n">sshd_t</span><span class="p">;</span>
<span class="p">}</span>

<span class="c"># This is where we define our type. A good practise is to append _t for all types.</span>
<span class="c"># This is the type we are going to give our .google_authenticator file.</span>
<span class="nb">type</span> <span class="n">sshd_google_authenticator_t</span><span class="p">;</span>

<span class="c"># What role our type should have. This is almost always going to be object_r</span>
<span class="n">role</span> <span class="n">object_r</span> <span class="n">types</span> <span class="n">sshd_google_authenticator_t</span><span class="p">;</span>

<span class="c"># What sshd_t (the context the ssh daemon runs as) should be able to do with our type (sshd_google_authenticator_t),</span>
<span class="c"># as a file. rename, create and unlink are base definitions, rw_file_perms is a set of rules.</span>
<span class="c"># The rw_file_perms group is defined in /usr/share/selinux/devel/include/support/obj_perm_sets.spt with a lot of other</span>
<span class="c"># groups. Reading this files give you a good overview of what they allow.</span>
<span class="n">allow</span> <span class="n">sshd_t</span> <span class="n">sshd_google_authenticator_t</span><span class="p">:</span><span class="n">file</span> <span class="p">{</span> <span class="nb">rename</span> <span class="n">create</span> <span class="nb">unlink</span> <span class="n">rw_file_perms</span> <span class="p">};</span>

<span class="c"># Without this, SELinux will be way too strict as default, as it won&#39;t know what this type really is.</span>
<span class="c"># Remember that SELinux doesn’t only deal with files, but sockets and other filetypes as well.</span>
<span class="c"># Leaving this out will still allow sshd_t to do its stuff, but you, in your shell will see a weird file.</span>
<span class="c"># The only thing you will see is the file name. Even permissions will be hidden from you. (a fun trick to pull on your friends.. :] )</span>
<span class="c"># An overview of this is located at http://oss.tresys.com/docs/refpolicy/api/kernel_files.html.</span>
<span class="n">files_type</span><span class="p">(</span><span class="n">sshd_google_authenticator_t</span><span class="p">)</span>
</pre></div>


<p>Now, when this file is created, create another file with the same name, but with the .fc extension. This should contain one line:</p>
<div class="codehilite"><pre><span class="n">HOME_DIR</span><span class="o">/\</span><span class="p">.</span><span class="n">google_authenticator</span>     <span class="o">--</span>  <span class="n">gen_context</span><span class="p">(</span><span class="n">system_u</span><span class="p">:</span><span class="n">object_r</span><span class="p">:</span><span class="n">sshd_google_authenticator_t</span><span class="p">,</span><span class="n">s0</span><span class="p">)</span>
</pre></div>


<p>This file have 3 parts. Path, type and context.</p>
<p>The first part is the path, on home directories, the home directory is replaced with HOME_DIR, this is all taken care of by SELinux and it generates this out of the home folders in passwd (as default).
Don't use stuff like /home/*/.google_authenticator here.. It won't work as expected. However, on other directories not in anyones home directory should be find to enter here.
Other than the magic HOME_DIR alias, there is HOME_ROOT, ROLE_…, and user_… (I think). But this are almost never used, and the documentation for this is hard to get..</p>
<p>The second part is the type. -- means that this is a file. -d means it is a directory (there is more options as well). Nothing special about this.</p>
<p>The last part is what context our file should belong to, and the MLS level (the s0 part. Don't worry about this).</p>
<p>Now that you have this two files, check that it compiles using our semake alias. Just type <em>semake</em>. If you see something like this, congrats.</p>
<div class="codehilite"><pre><span class="n">Compiling</span> <span class="n">targeted</span> <span class="n">sshd_google_authenticator</span> <span class="n">module</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">checkmodule</span><span class="p">:</span>  <span class="n">loading</span> <span class="n">policy</span> <span class="n">configuration</span> <span class="n">from</span> <span class="n">tmp</span><span class="o">/</span><span class="n">sshd_google_authenticator</span><span class="p">.</span><span class="n">tmp</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">checkmodule</span><span class="p">:</span>  <span class="n">policy</span> <span class="n">configuration</span> <span class="n">loaded</span>
<span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">bin</span><span class="o">/</span><span class="n">checkmodule</span><span class="p">:</span>  <span class="n">writing</span> <span class="n">binary</span> <span class="n">representation</span> <span class="p">(</span><span class="n">version</span> 10<span class="p">)</span> <span class="n">to</span> <span class="n">tmp</span><span class="o">/</span><span class="n">sshd_google_authenticator</span><span class="p">.</span><span class="nb">mod</span>
<span class="n">Creating</span> <span class="n">targeted</span> <span class="n">sshd_google_authenticator</span><span class="p">.</span><span class="n">pp</span> <span class="n">policy</span> <span class="n">package</span>
<span class="n">rm</span> <span class="n">tmp</span><span class="o">/</span><span class="n">sshd_google_authenticator</span><span class="p">.</span><span class="nb">mod</span><span class="p">.</span><span class="n">fc</span> <span class="n">tmp</span><span class="o">/</span><span class="n">sshd_google_authenticator</span><span class="p">.</span><span class="nb">mod</span>
</pre></div>


<p>If not, go trough your two files and try to find the error. If your output was similar, you should have a file with the same name as the others with a .pp extension. This is your compiled module!</p>
<p>To enable it, type <em>semodule -i sshd_google_authenticator.pp</em>, and it should load. <em>semodule -r sshd_google_authenticator.pp</em> will remove the module.
Also, note that loading the module will not change the context of your file. But selinux will now use your fc file when using restorecon, or other relabelling command.
Use <em>restorecon /home/username/.google_authenticator</em> to do that now. <em>ls -lZ /home/username/.google_authenticator</em> to verify that the file have a new context.</p>
<p>And in case you wonder, your module will survive a reboot :)</p>
<h2>Our module got a problem</h2>
<p>Now that we have a module that work as expected, I have one good and one bad news. The bad one; our module won't solve our sshd google authenticator problem.
The good one; you now hopefully know how to create your own basic modules for whatever you want.</p>
<p>The problem is not SELinux related, it works as it should. However, (as you might already have spotted), we need to give sshd unlink and rename permissions to our file.
We can verify that the file is replaced with a new one looking at the inode on the file. <em>ls -li /home/username/.google_authenticator</em> before and after logging in using the one time password.
The pid changes, the file is regenerated and created. Which means it looses its SELinux context, and ruin the whole plan.</p>
<p>SELinux doesn’t really care about file paths. I don't know if there is anyway to have a file getting it's default context like we want here, without putting it in another folder firs and make a rule that says "every file created in this folder should get our_context_t". New files created in your home folder will get the user_home_t context, which is NOT something we want sshd to have full control over. That would break the whole idea…</p>
<p>Update 18. Nov 2012:
Look at the section <em>We can use plan A after all</em> to solve this problem without going to plan B.</p>
<h2>Plan B</h2>
<p>We already know that /home/username/.ssh is a folder that acts the way we want. So our plan b is to put our .google_authenticator file in that instead.</p>
<p>In the <a href="http://google-authenticator.googlecode.com/git/libpam/README">google authenticator libpam README</a>, it said that we can manually set the location of the secret. Looks like our solution is simpler than first thought.</p>
<p>Replace the entry in our pam.d file with:</p>
<div class="codehilite"><pre>auth       required     pam_google_authenticator.so secret=/home/<span class="cp">${</span><span class="n">USER</span><span class="cp">}</span>/.ssh/.google_authenticator
</pre></div>


<p>That’s all, it should now work perfectly in harmony with SELinux, even without our newly created module!
This solution will for obvious reasons not work with the root user, because of the home path. But you should disable root login anyway. Use sudo!</p>
<h2>We can use plan A after all (update 18. Nov 2012)</h2>
<p>Thanks to Matthew Ife (#MatthewIfe) for pointing out this tip in the comment section.</p>
<p>If we use filetrans_pattern (which is available from Fedora 15+) we can get around the relabelling problem fairly elegant.
Add</p>
<div class="codehilite"><pre><span class="n">filetrans_pattern</span><span class="p">(</span><span class="n">sshd_t</span><span class="p">,</span> <span class="n">user_home_dir_t</span><span class="p">,</span> <span class="n">sshd_google_authenticator_t</span><span class="p">,</span> <span class="n">file</span><span class="p">,</span> &quot;<span class="p">.</span><span class="n">google_authenticator</span>&quot;<span class="p">)</span>
</pre></div>


<p>To the button of your .te file, and it will make sure that all files that all files <em>sshd_t</em> creates in the folder with the type <em>user_home_dir_t</em> named <em>.google_authenticator</em> is labeled <em>sshd_google_authenticator_t</em>. This is just what we want!</p>
<p>If you do this, remember to</p>
<ul>
<li>Don't add the secret option to pam.d</li>
<li>Add <em>type user_home_dir_t;</em> to the require {} section of your .te file.</li>
</ul>
<h2>One extra paranoid tip</h2>
<p>Arguably, having the user access to the .google_authenticator file is a security risk. Since an attacker can steal or change the secret if they are able to get to your logged in terminal.
Sure, but then you have already lost. But if you are using this for only one user, and want this extra paranoid setup. Check out <a href="https://www.axivo.com/community/threads/secure-two-step-google-auth-login-in-centos.174/">this blog post at axivo</a>, specially the <em>Dark side</em> part..</p></div>
        </div>
        <hr />
        
        
        <div class="article article-odd">
                <h1 class="article-odd"><a href="./2012/11/selinux-finding-info.html">SELinux - Finding info</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-11-13T12:00:00">
        <i class="icon-calendar">&nbsp;</i>Tue 13 November 2012
</abbr>

<!--

<span class="label">By</span>
<a href="./author/lars-solberg.html"><i class="icon-user"></i>Lars Solberg</a>

-->



<div class="pull-right">
  <span class="label">Category</span>
  <a href="./category/geeky.html"><i class="icon-folder-open"></i>geeky</a>.


  &nbsp;&nbsp;&nbsp;
  <span class="label">Tags</span>
  
    <a href="./tag/linux.html"><i class="icon-tag">&nbsp;</i>linux</a>&nbsp;&nbsp;
  
    <a href="./tag/selinux.html"><i class="icon-tag">&nbsp;</i>selinux</a>&nbsp;&nbsp;
  





</div>


</footer><!-- /.post-info --></div>
                <div class="content"><p>If you look around the interwebs for <a href="http://en.wikipedia.org/wiki/Security-Enhanced_Linux">SELinux</a> information you will probably look around for a while and after some hours you will ask yourself why most of it is from 2006.
To be honest, I really don't know. But if you think SELinux is dead because of this, think again. SELinux is very much alive. But one reason might be that SELinux is really stable and have proven so over a long time. That is why my theory is that it is more of less, done. There is no need to add features, its not needed.
That being said, having a nice interface to write SELinux policies in will be more than welcome.</p>
<p>I will write a couple of blog articles from time to time about SELinux. So this entry is just to show you where I have found different information, and why I looked for exactly that info.</p>
<ul>
<li><a href="http://billauer.co.il/selinux-policy-module-howto.html">Eli Billauer</a> have a really great blog post about creating SELinux policies. Read it!</li>
<li><a href="http://danwalsh.livejournal.com/">danwalsh blog</a> is a blog by Dan Walsh mostly about SELinux stuff.</li>
<li><a href="http://oss.tresys.com/docs/refpolicy/api/">tresys refpolicy api</a> is at the one and only reference guide.</li>
<li><a href="http://oss.tresys.com/docs/refpolicy/api/kernel_files.html">tresys refpolicy kernel files</a> is a list of interfaces mostly used. Like file_types(), and its siblings. You can't really create policy modules without them as they define how your file/socket * whatever should act as. Deserves its own mention.</li>
<li><a href="http://oss.tresys.com/projects/refpolicy">tresys refpolicy</a> is a reference policy you can download.</li>
<li><a href="http://oss.tresys.com/projects/slide">tresys slide</a> looks like a promising IDE. Is last updated in 2009 or something..</li>
<li><a href="http://www.nsa.gov/research/selinux/docs.shtml">nsa docs</a> is a list of resources.</li>
<li><a href="http://www.nsa.gov/research/_files/selinux/papers/policy2/x109.shtml">nsa policy language</a> is one of the very few places you can actually get a list of available policy module macros.</li>
<li><a href="http://fedoraproject.org/wiki/SELinux/PolicyGenTools">fedora policygentools</a> a list of some tools to help you create policies. Mostly old stuff.</li>
</ul>
<p>Added: <em>16. Nov 2012</em></p>
<ul>
<li><a href="http://selinuxproject.org">selinux project</a> A general good reasource!</li>
</ul></div>
        </div>
        <hr />
        
        
        <div class="article article-even">
                <h1 class="article-even"><a href="./2012/10/python-threading-example-creating-pingerpy.html">Python threading example, creating Pinger.py</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-10-24T23:00:00">
        <i class="icon-calendar">&nbsp;</i>Wed 24 October 2012
</abbr>

<!--

<span class="label">By</span>
<a href="./author/lars-solberg.html"><i class="icon-user"></i>Lars Solberg</a>

-->



<div class="pull-right">
  <span class="label">Category</span>
  <a href="./category/geeky.html"><i class="icon-folder-open"></i>geeky</a>.


  &nbsp;&nbsp;&nbsp;
  <span class="label">Tags</span>
  
    <a href="./tag/python.html"><i class="icon-tag">&nbsp;</i>python</a>&nbsp;&nbsp;
  
    <a href="./tag/network.html"><i class="icon-tag">&nbsp;</i>network</a>&nbsp;&nbsp;
  





</div>


</footer><!-- /.post-info --></div>
                <div class="content"><p>Update 18. Nov 2012:
Cleaned up some comments about cores. To make it clear, this will only run on 1 core!</p>
<p><a href="http://docs.python.org/library/threading.html">Threading</a> in Python can be confusing in the beginning. Many examples out there are overly complicated so here is another example that I have tried to keep simple.</p>
<p>Here, I want a fast way to ping every host/ip in a list. As fast as we can, threaded, and then at last return a dict with two items. A list of dead nodes, and a list of nodes who answers on ping.</p>
<p>Example:</p>
<div class="codehilite"><pre><span class="n">In</span> <span class="p">[</span><span class="mi">1</span><span class="p">]:</span> <span class="kn">from</span> <span class="nn">pinger</span> <span class="kn">import</span> <span class="n">Pinger</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">2</span><span class="p">]:</span> <span class="n">ping</span> <span class="o">=</span> <span class="n">Pinger</span><span class="p">()</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">3</span><span class="p">]:</span> <span class="n">ping</span><span class="o">.</span><span class="n">thread_count</span> <span class="o">=</span> <span class="mi">8</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">4</span><span class="p">]:</span> <span class="n">ping</span><span class="o">.</span><span class="n">hosts</span> <span class="o">=</span> <span class="p">[</span><span class="s">&#39;10.0.0.1&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.255&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.100&#39;</span><span class="p">,</span> <span class="s">&#39;google.com&#39;</span><span class="p">,</span> <span class="s">&#39;nonexisting&#39;</span><span class="p">,</span> <span class="s">&#39;*not able to ping!*&#39;</span><span class="p">,</span> <span class="s">&#39;8.8.8.8&#39;</span><span class="p">]</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">5</span><span class="p">]:</span> <span class="n">ping</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">5</span><span class="p">]:</span> 
<span class="p">{</span><span class="s">&#39;alive&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;10.0.0.255&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.1&#39;</span><span class="p">,</span> <span class="s">&#39;google.com&#39;</span><span class="p">,</span> <span class="s">&#39;8.8.8.8&#39;</span><span class="p">],</span>
 <span class="s">&#39;dead&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s">&#39;*not able to ping!*&#39;</span><span class="p">,</span> <span class="s">&#39;nonexisting&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.100&#39;</span><span class="p">]}</span>
</pre></div>


<p>The example above will ping 8 hosts at the time and saving the results to the end.
We are using 8 thread_count in this example. Which means that python will have 8 ping command running at the same time.</p>
<p>The whole source of the Pinger class looks like this, read the comments and you will see how it works:</p>
<div class="codehilite"><pre><span class="c">#!/usr/bin/env python</span>

<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">import</span> <span class="nn">threading</span>

<span class="k">class</span> <span class="nc">Pinger</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="n">status</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;alive&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="s">&#39;dead&#39;</span><span class="p">:</span> <span class="p">[]}</span> <span class="c"># Populated while we are running</span>
    <span class="n">hosts</span> <span class="o">=</span> <span class="p">[]</span> <span class="c"># List of all hosts/ips in our input queue</span>

    <span class="c"># How many ping process at the time.</span>
    <span class="n">thread_count</span> <span class="o">=</span> <span class="mi">4</span>

    <span class="c"># Lock object to keep track the threads in loops, where it can potentially be race conditions.</span>
    <span class="n">lock</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">ping</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ip</span><span class="p">):</span>
        <span class="c"># Use the system ping command with count of 1 and wait time of 1.</span>
        <span class="n">ret</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">call</span><span class="p">([</span><span class="s">&#39;ping&#39;</span><span class="p">,</span> <span class="s">&#39;-c&#39;</span><span class="p">,</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="s">&#39;-W&#39;</span><span class="p">,</span> <span class="s">&#39;1&#39;</span><span class="p">,</span> <span class="n">ip</span><span class="p">],</span>
                              <span class="n">stdout</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;/dev/null&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">),</span> <span class="n">stderr</span><span class="o">=</span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;/dev/null&#39;</span><span class="p">,</span> <span class="s">&#39;w&#39;</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">ret</span> <span class="o">==</span> <span class="mi">0</span> <span class="c"># Return True if our ping command succeeds</span>

    <span class="k">def</span> <span class="nf">pop_queue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ip</span> <span class="o">=</span> <span class="bp">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">acquire</span><span class="p">()</span> <span class="c"># Grab or wait+grab the lock.</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hosts</span><span class="p">:</span>
            <span class="n">ip</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hosts</span><span class="o">.</span><span class="n">pop</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">release</span><span class="p">()</span> <span class="c"># Release the lock, so another thread could grab it.</span>

        <span class="k">return</span> <span class="n">ip</span>

    <span class="k">def</span> <span class="nf">dequeue</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">ip</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">pop_queue</span><span class="p">()</span>

            <span class="k">if</span> <span class="ow">not</span> <span class="n">ip</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">None</span>

            <span class="n">result</span> <span class="o">=</span> <span class="s">&#39;alive&#39;</span> <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ping</span><span class="p">(</span><span class="n">ip</span><span class="p">)</span> <span class="k">else</span> <span class="s">&#39;dead&#39;</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">status</span><span class="p">[</span><span class="n">result</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ip</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">threads</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">thread_count</span><span class="p">):</span>
            <span class="c"># Create self.thread_count number of threads that together will</span>
            <span class="c"># cooperate removing every ip in the list. Each thread will do the</span>
            <span class="c"># job as fast as it can.</span>
            <span class="n">t</span> <span class="o">=</span> <span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">dequeue</span><span class="p">)</span>
            <span class="n">t</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
            <span class="n">threads</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>

        <span class="c"># Wait until all the threads are done. .join() is blocking.</span>
        <span class="p">[</span> <span class="n">t</span><span class="o">.</span><span class="n">join</span><span class="p">()</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">threads</span> <span class="p">]</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">status</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">ping</span> <span class="o">=</span> <span class="n">Pinger</span><span class="p">()</span>
    <span class="n">ping</span><span class="o">.</span><span class="n">thread_count</span> <span class="o">=</span> <span class="mi">8</span>
    <span class="n">ping</span><span class="o">.</span><span class="n">hosts</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s">&#39;10.0.0.1&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.2&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.3&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.4&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.0&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.255&#39;</span><span class="p">,</span> <span class="s">&#39;10.0.0.100&#39;</span><span class="p">,</span>
        <span class="s">&#39;google.com&#39;</span><span class="p">,</span> <span class="s">&#39;github.com&#39;</span><span class="p">,</span> <span class="s">&#39;nonexisting&#39;</span><span class="p">,</span> <span class="s">&#39;127.0.1.2&#39;</span><span class="p">,</span> <span class="s">&#39;*not able to ping!*&#39;</span><span class="p">,</span> <span class="s">&#39;8.8.8.8&#39;</span>
        <span class="p">]</span>

    <span class="k">print</span> <span class="n">ping</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</pre></div></div>
        </div>
        <hr />
        
        
        <div class="article article-odd">
                <h1 class="article-odd"><a href="./2012/10/blog-technology.html">Blog technology</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-10-21T20:00:00">
        <i class="icon-calendar">&nbsp;</i>Sun 21 October 2012
</abbr>

<!--

<span class="label">By</span>
<a href="./author/lars-solberg.html"><i class="icon-user"></i>Lars Solberg</a>

-->



<div class="pull-right">
  <span class="label">Category</span>
  <a href="./category/geeky.html"><i class="icon-folder-open"></i>geeky</a>.


  &nbsp;&nbsp;&nbsp;
  <span class="label">Tags</span>
  
    <a href="./tag/pelican.html"><i class="icon-tag">&nbsp;</i>pelican</a>&nbsp;&nbsp;
  
    <a href="./tag/python.html"><i class="icon-tag">&nbsp;</i>python</a>&nbsp;&nbsp;
  
    <a href="./tag/git.html"><i class="icon-tag">&nbsp;</i>git</a>&nbsp;&nbsp;
  
    <a href="./tag/github.html"><i class="icon-tag">&nbsp;</i>github</a>&nbsp;&nbsp;
  





</div>


</footer><!-- /.post-info --></div>
                <div class="content"><p>After going back and forth to what technology I wanted behind my blog I decided on;</p>
<h1><a href="http://blog.getpelican.com/">Pelican</a> as the static blog generator</h1>
<p>Pelican is written in python, is very extendible with plugins and easy to create themes.
It is also easy to configure and use. The main reason I went with pelican is its simplicity, and possibility to customize.</p>
<p>There is already other blogs out there that explains <a href="http://blog.aclark.net/yes-this-blog-is-now-powered-by-pelican.html">pelican advantages and disadvantages</a> and other blogs that have info about <a href="http://martinbrochhaus.com/2012/02/pelican.html">using github pages and pelican</a>, so that is not something I will spend time on here. But if you like to blog using plain-text, python, html/js/css customization and a power full generator to put it into a blog, pelican might be something to check out.</p>
<h1><a href="http://fletcherpenney.net/multimarkdown/">Multimarkdown</a> as the writing "format"</h1>
<p>Multimarkdown is an extension to <a href="http://daringfireball.net/projects/markdown/">markdown</a>. Markdown is a structured way of writing articles, snippets, mail or even whole books. It was created as a way to write plaintext which can later be converted to html/pdf/odt/LaTeX or whatever you want, keeping the structure you want.</p>
<p>To be honest, everyone who sends mail on a daily bases should at least look into this. Or at least thing about it. Getting mails that contains a lot of text, and no structure is painful to read.</p>
<p>When it comes to Markdown vs. <a href="http://docutils.sourceforge.net/rst.html">reStructuredText</a>, I ended up with markdown because it feels much bigger than rst. Even tough rst is something which the python community uses a lot, it just feels a little dead. I have even tried to use rst for a long time, but it is missing some love from other people.</p>
<h1><a href="http://pages.github.com/">Github pages</a> for hosting the generated html files</h1>
<p>I love using Github for <a href="https://github.com/xeor/">my opensourced projects</a>, so it felt very natural to use their pages to store the html files for my blog. It is free, easy to publish to, and stable. I don't really have much more to say on this. But if my blog was not going to be a bunch of static files, I would probably have used <a href="http://www.heroku.com/">Heroku</a>.</p></div>
        </div>
        <hr />
        
        
        <div class="article article-even">
                <h1 class="article-even"><a href="./2012/10/another-blog-is-born.html">Another blog is born</a></h1>
                <div class="well small"><footer class="post-info">
<span class="label">Date</span>
<abbr class="published" title="2012-10-21T00:00:00">
        <i class="icon-calendar">&nbsp;</i>Sun 21 October 2012
</abbr>

<!--

<span class="label">By</span>
<a href="./author/lars-solberg.html"><i class="icon-user"></i>Lars Solberg</a>

-->



<div class="pull-right">
  <span class="label">Category</span>
  <a href="./category/misc.html"><i class="icon-folder-open"></i>misc</a>.


  &nbsp;&nbsp;&nbsp;
  <span class="label">Tags</span>
  
    <a href="./tag/blog.html"><i class="icon-tag">&nbsp;</i>blog</a>&nbsp;&nbsp;
  





</div>


</footer><!-- /.post-info --></div>
                <div class="content"><p>When I am starting a new blog in late 2012, I feel like I am a little too late. But there is several reasons I haven't started blogging before now.</p>
<ul>
<li>I don't think anyone really cares about my day to day stuff, so why write about it..?</li>
<li>I think it is more exiting to work on my own projects than writing about them.</li>
<li>I don't want to use a lot of time writing something when I lock my writing down deep inside a database.</li>
<li>I've always felt like it is too late to start writing a blog. No kidding, I have had that feeling since 2003.</li>
</ul>
<p>So, the reason I will try to write a couple of blog articles from time to time now is:</p>
<ul>
<li>My <em>blog</em> project on my todo list have been inactive for too long now. I want those todo's out of my head :)</li>
<li>I want a personal place I can lookup my own projects. I really want a good place to document problems. Because of that, this blog will be more of an polished notebook for me.</li>
<li>I think it is time to learn myself more <a href="http://daringfireball.net/projects/markdown/">markdown</a> Hell, everyone should learn some markdown! And/or <a href="http://fletcherpenney.net/multimarkdown/">multimarkdown</a>.</li>
<li>Two things usually makes me happy when I try to figure out a problem using Google. And that is finding a <a href="http://stackoverflow.com/">stackoverflow</a> post, or a blog post. As I already am <a href="http://stackoverflow.com/users/452081/xeor">contributing to stackoverflow</a>, I figured out a blog will also be nice to have.</li>
</ul>
<p>Most of the stuff I am going to write about will be in the very geeky genre. All the geeky goodness will be in the <em>geeky</em> category. There will also be a <em>priv</em> and <em>misc</em> category. But not many more.</p>
<p>All tags and categories will have its own ATOM feeds as well.</p></div>
        </div>
        <hr />
        



<div class="pagination">
  <ul>
    
      <li class="prev disabled"><a href="#">&larr; Previous</a></li>
    

    
      <li class="active"><a href="./index.html">1</a></li>
    

    
      <li class="next disabled"><a href="#">&rarr; Next</a></li>
    
  </ul>
</div>

        </div>

        <div class="span3">
          


<div class="well sidebar-nav" id="sidebar-categories">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-folder-close icon-large"></i>Categories</h4></li>

<li>
<a href="./category/geeky.html">
    <i class="icon-folder-open icon-large"></i>geeky
</a>
</li>

<li>
<a href="./category/misc.html">
    <i class="icon-folder-open icon-large"></i>misc
</a>
</li>

</ul></div>


<div class="well sidebar-nav" id="sidebar-tags">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-tags icon-large"></i>Tags</h4></li>

    <span class="tag-2"><a href="./tag/selinux.html">selinux</a>&nbsp;&nbsp;</span>


    <span class="tag-4"><a href="./tag/github.html">github</a>&nbsp;&nbsp;</span>


    <span class="tag-4"><a href="./tag/pelican.html">pelican</a>&nbsp;&nbsp;</span>


    <span class="tag-4"><a href="./tag/blog.html">blog</a>&nbsp;&nbsp;</span>


    <span class="tag-4"><a href="./tag/ssh.html">ssh</a>&nbsp;&nbsp;</span>


    <span class="tag-1"><a href="./tag/linux.html">linux</a>&nbsp;&nbsp;</span>


    <span class="tag-4"><a href="./tag/network.html">network</a>&nbsp;&nbsp;</span>


    <span class="tag-4"><a href="./tag/git.html">git</a>&nbsp;&nbsp;</span>


    <span class="tag-4"><a href="./tag/android.html">android</a>&nbsp;&nbsp;</span>


    <span class="tag-1"><a href="./tag/python.html">python</a>&nbsp;&nbsp;</span>


</ul></div>


<div class="well sidebar-nav" id="sidebar-social">
<ul class="nav nav-list">
<li class="nav-header"><h4><i class="icon-home icon-large"></i> social</h4></li>

    <li><a href="https://github.com/xeor/"><i class="icon-github-sign icon-large"></i>github</a></li>

    <li><a href="http://no.linkedin.com/in/lsolberg"><i class="icon-linkedin-sign icon-large"></i>linkedin</a></li>

</ul></div>





<div class="well sidebar-nav" id="sidebar-articles">
<ul class="nav nav-list">

    <li class="nav-header"><h4><i class="icon-pushpin icon-large"></i> articles on page</h4></li>


    <li><a href="./2013/03/android-setup-part-1-apps.html">Android setup part 1 - Apps</a></li>

    <li><a href="./2013/01/making-your-linux-prompt-as-usefull-as-possible.html">Making your Linux prompt as usefull as possible</a></li>

    <li><a href="./2012/11/tagging-files-and-folders-using-hashtags-and-symlinks.html">Tagging files and folders using hashtags and symlinks</a></li>

    <li><a href="./2012/11/two-factor-ssh-login-google-authenticator-and-selinux.html">Two factor ssh login, Google authenticator and SELinux</a></li>

    <li><a href="./2012/11/selinux-finding-info.html">SELinux - Finding info</a></li>

    <li><a href="./2012/10/python-threading-example-creating-pingerpy.html">Python threading example, creating Pinger.py</a></li>

    <li><a href="./2012/10/blog-technology.html">Blog technology</a></li>

    <li><a href="./2012/10/another-blog-is-born.html">Another blog is born</a></li>

</ul></div>





        </div>

      </div><!--/row-->

      <hr>

    </div><!--/.fluid-container-->


    
<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
	var pageTracker = _gat._getTracker("UA-35739277-1");
pageTracker._trackPageview();
} catch(err) {}</script>

    
    

<script type="text/javascript">
    var disqus_shortname = 'blog-boa-nu';
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>


    <!-- Le javascript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="./theme/js/jquery-1.7.2.min.js"></script>
    <script src="./theme/js/bootstrap.min.js"></script>
  </body>
</html>